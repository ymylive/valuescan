# AI 进化策略配置指南

## 概述

AI 进化系统现在支持多种进化方向和交易风格，让您可以根据自己的风险偏好和交易习惯选择最适合的策略。

## 🎯 策略配置维度

### 1. 风险偏好 (Risk Profile)

#### 稳健型 (Conservative)
- **特点**: 低风险，追求稳定收益，注重资金安全
- **优化目标**:
  - 胜率权重: 40%
  - 盈利权重: 20%
  - 风险控制权重: 40%
- **参数约束**:
  - 最大杠杆: 5x
  - 最大单仓位: 3%
  - 最低信心度: 0.7
  - 止损范围: 1.5-3.0%
  - 止盈范围: 2.0-5.0%
- **进化策略**:
  - 最大参数变化: 10%
  - 必须 A/B 测试
  - 最小改进要求: 3%

#### 风险平衡型 (Balanced) ⭐ 推荐
- **特点**: 平衡风险与收益，适合大多数交易者
- **优化目标**:
  - 胜率权重: 30%
  - 盈利权重: 30%
  - 风险控制权重: 20%
- **参数约束**:
  - 最大杠杆: 10x
  - 最大单仓位: 5%
  - 最低信心度: 0.6
  - 止损范围: 1.0-3.0%
  - 止盈范围: 2.0-6.0%
- **进化策略**:
  - 最大参数变化: 15%
  - 建议 A/B 测试
  - 最小改进要求: 2%

#### 激进型 (Aggressive)
- **特点**: 高风险高收益，追求最大化利润
- **优化目标**:
  - 胜率权重: 20%
  - 盈利权重: 50% (重点)
  - 风险控制权重: 10%
- **参数约束**:
  - 最大杠杆: 20x
  - 最大单仓位: 10%
  - 最低信心度: 0.5
  - 止损范围: 0.5-2.0%
  - 止盈范围: 3.0-10.0%
- **进化策略**:
  - 最大参数变化: 20%
  - 可直接应用
  - 最小改进要求: 1%

### 2. 交易风格 (Trading Style)

#### 剥头皮 (Scalping)
- **时间周期**: 1-5分钟
- **目标利润**: 0.5%
- **特点**: 超短线交易，快进快出
- **参数偏好**:
  - 止损: 0.3%
  - 止盈: 0.5%
  - 监控间隔: 5秒
- **优化关注**:
  - 执行速度: 30%
  - 胜率: 40% (需要高胜率)
  - 单笔利润: 10%
  - 交易频率: 20%

#### 短线交易 (Day Trading)
- **时间周期**: 1-8小时
- **目标利润**: 2%
- **特点**: 日内交易，当日开仓当日平仓
- **参数偏好**:
  - 止损: 1.0%
  - 止盈: 2.0%
  - 监控间隔: 30秒
- **优化关注**:
  - 执行速度: 20%
  - 胜率: 30%
  - 单笔利润: 30%
  - 交易频率: 20%

#### 中线交易 (Swing Trading)
- **时间周期**: 2-10天
- **目标利润**: 5%
- **特点**: 波段交易，持仓数天到数周
- **参数偏好**:
  - 止损: 2.0%
  - 止盈: 5.0%
  - 监控间隔: 5分钟
- **优化关注**:
  - 执行速度: 10%
  - 胜率: 20%
  - 单笔利润: 50% (重点)
  - 交易频率: 20%

#### 长线交易 (Position Trading)
- **时间周期**: 1-3个月
- **目标利润**: 15%
- **特点**: 趋势跟踪，持仓数周到数月
- **参数偏好**:
  - 止损: 5.0%
  - 止盈: 15.0%
  - 监控间隔: 1小时
- **优化关注**:
  - 执行速度: 5%
  - 胜率: 15%
  - 单笔利润: 60% (最重视)
  - 交易频率: 20%

## 📋 组合策略

### 1. 稳健剥头皮 (conservative_scalping)
```
风险偏好: 稳健型
交易风格: 剥头皮
适合人群: 追求稳定的超短线交易者
特点: 低风险 + 高频交易 + 小额利润
```

### 2. 稳健波段 (conservative_swing)
```
风险偏好: 稳健型
交易风格: 中线交易
适合人群: 稳健投资者，不想频繁盯盘
特点: 低风险 + 中长期持仓 + 稳定收益
```

### 3. 平衡日内 (balanced_day) ⭐ 推荐
```
风险偏好: 风险平衡型
交易风格: 短线交易
适合人群: 大多数交易者
特点: 平衡风险 + 日内交易 + 最常见
```

### 4. 平衡波段 (balanced_swing)
```
风险偏好: 风险平衡型
交易风格: 中线交易
适合人群: 上班族，业余交易者
特点: 平衡风险 + 波段操作 + 时间灵活
```

### 5. 激进剥头皮 (aggressive_scalping)
```
风险偏好: 激进型
交易风格: 剥头皮
适合人群: 专业交易者，追求高收益
特点: 高风险 + 高频交易 + 快速盈利
```

### 6. 激进日内 (aggressive_day)
```
风险偏好: 激进型
交易风格: 短线交易
适合人群: 激进交易者，能承受高风险
特点: 高风险 + 日内交易 + 最大化利润
```

## 🔧 配置方法

### 后端配置

```python
# binance_trader/config.py

# 启用 AI 进化
ENABLE_AI_EVOLUTION = True

# 选择策略配置
AI_EVOLUTION_PROFILE = "balanced_day"  # 可选值见上文

# 其他参数
AI_EVOLUTION_MIN_TRADES = 50
AI_EVOLUTION_LEARNING_PERIOD_DAYS = 30
AI_EVOLUTION_INTERVAL_HOURS = 24
ENABLE_AI_AB_TESTING = True
AI_AB_TEST_RATIO = 0.2
```

### 前端配置

1. 进入 **Settings** → **Trader Configuration**
2. 找到 **AI Evolution System** 部分
3. 开启 **Enable AI Evolution**
4. 在 **Evolution Strategy** 中选择策略:
   - **Conservative (Low Risk)**: 稳健型策略
   - **Balanced (Recommended)**: 平衡型策略 ⭐
   - **Aggressive (High Risk)**: 激进型策略
5. 配置学习参数和 A/B 测试
6. 保存配置

## 📊 策略对比

| 策略 | 风险 | 收益潜力 | 交易频率 | 持仓时间 | 适合人群 |
|------|------|----------|----------|----------|----------|
| 稳健剥头皮 | ⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | 1-5分钟 | 稳健短线 |
| 稳健波段 | ⭐ | ⭐⭐⭐ | ⭐⭐ | 2-10天 | 稳健中线 |
| 平衡日内 | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 1-8小时 | 大多数人 ⭐ |
| 平衡波段 | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | 2-10天 | 上班族 |
| 激进剥头皮 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 1-5分钟 | 专业交易者 |
| 激进日内 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 1-8小时 | 激进交易者 |

## 🎯 选择建议

### 新手交易者
推荐: **balanced_day** (平衡日内) 或 **balanced_swing** (平衡波段)
- 风险适中
- 容易上手
- 有足够的学习空间

### 稳健投资者
推荐: **conservative_swing** (稳健波段)
- 风险最低
- 不需要频繁盯盘
- 追求稳定收益

### 专业交易者
推荐: **aggressive_day** (激进日内) 或 **aggressive_scalping** (激进剥头皮)
- 高风险高收益
- 需要丰富经验
- 能承受波动

### 上班族
推荐: **balanced_swing** (平衡波段)
- 时间灵活
- 不影响工作
- 收益稳定

## 💡 使用技巧

### 1. 渐进式调整
- 从保守策略开始
- 积累经验后逐步提高风险
- 不要一开始就选择激进策略

### 2. 根据市场调整
- 牛市: 可以适当激进
- 熊市: 建议保守
- 震荡市: 平衡策略最佳

### 3. 定期评估
- 每月查看进化历史
- 对比不同策略表现
- 根据实际情况调整

### 4. A/B 测试
- 新策略先小规模测试
- 验证效果后再全面应用
- 避免激进调整

## 📈 进化示例

### 场景: 平衡日内策略进化

**初始状态**:
```json
{
  "profile": "balanced_day",
  "parameters": {
    "confidence_threshold": 0.6,
    "risk_multiplier": 1.0,
    "position_size_multiplier": 1.0,
    "stop_loss_multiplier": 1.0,
    "take_profit_multiplier": 1.0
  }
}
```

**AI 分析发现**:
- 高信心度交易 (>0.7) 胜率 70%
- 中信心度交易 (0.6-0.7) 胜率 55%
- 日内交易平均持仓 4小时
- BTC/ETH 表现最佳

**优化建议**:
```json
{
  "new_parameters": {
    "confidence_threshold": 0.65,  // 提高阈值
    "risk_multiplier": 1.0,
    "position_size_multiplier": 1.1,  // 增加仓位
    "stop_loss_multiplier": 1.0,
    "take_profit_multiplier": 1.05  // 提高止盈
  },
  "expected_improvement": 6.5,
  "reasoning": "提高信心度阈值过滤低质量信号，同时在高质量信号上增加仓位"
}
```

**验证结果**:
- A/B 测试 7天
- 新策略胜率提升至 62%
- 平均盈亏提升 5.8%
- 全面应用新策略

## 🔍 常见问题

### Q: 如何选择最适合自己的策略？
A: 考虑三个因素:
1. 风险承受能力
2. 可用时间
3. 交易经验

### Q: 可以随时切换策略吗？
A: 可以，但建议:
1. 至少运行 30天再评估
2. 切换前查看进化历史
3. 新策略从小仓位开始

### Q: 激进策略真的能赚更多吗？
A: 不一定:
- 高收益伴随高风险
- 需要更多经验和时间
- 可能面临更大回撤

### Q: 稳健策略会不会太保守？
A: 取决于目标:
- 追求稳定: 稳健策略最佳
- 追求暴利: 可能不够激进
- 长期来看: 稳健策略更可持续

## 📚 相关文档

- [AI_EVOLUTION_SYSTEM.md](AI_EVOLUTION_SYSTEM.md) - AI 进化系统完整文档
- [AI_TRADING_SYSTEM.md](AI_TRADING_SYSTEM.md) - AI 交易系统总览
- [binance_trader/ai_evolution_profiles.py](binance_trader/ai_evolution_profiles.py) - 策略配置代码

---

选择适合自己的策略，让 AI 在正确的方向上进化！🚀
